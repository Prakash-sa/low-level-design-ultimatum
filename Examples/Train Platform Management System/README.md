# ðŸš† Train Platform Management System â€“ 75 Minute Interview Overview

Railway station controller that schedules trains, assigns platforms, tracks arrivals/departures, and emits operational events. Modeled in the same structured style as the Airline Management System example (patterns, lifecycle, extensibility).

**Scale (Assumed)**: 10â€“30 platforms, 100â€“300 trains/day, moderate concurrency (several simultaneous arrivals).  
**Focus**: Safe platform assignment, clear train & platform lifecycles, strategy swapping for assignment heuristics, event-driven extensibility.

---

## Core Domain Entities
| Entity | Purpose | Relationships |
|--------|---------|--------------|
| **Train** | Scheduled service with times & status | Assigned to at most one Platform |
| **Platform** | Physical track slot | Holds one Train, has status |
| **Assignment** | Mapping trainâ†’platform with timestamp | Generated by strategy |
| **Strategy** | Platform selection algorithm | Injected into system controller |
| **Observer** | Receives station events | Subscribed to system |

---

## Design Patterns Implemented
| Pattern | Purpose | Example |
|---------|---------|---------|
| **Singleton** | Single station controller instance | `TrainStationSystem.get_instance()` |
| **Strategy** | Pluggable platform assignment heuristics | `EarliestFreeStrategy` vs `PriorityPlatformStrategy` |
| **Observer** | Operational notifications | `ConsoleObserver` for arrival/departure/low_capacity |
| **State** | Explicit lifecycle modeling | `TrainStatus` (SCHEDULEDâ†’EN_ROUTEâ†’ARRIVINGâ†’AT_PLATFORMâ†’DEPARTED) |
| **Factory** | Encapsulated creation | System helpers: `schedule_train()`, `add_platform()` |

Optional future: Command for delay adjustments, Decorator for caching prediction results.

---

## 75-Minute Timeline
| Time | Phase | What to Code |
|------|-------|--------------|
| 0â€“5  | Requirements | Clarify scope (rerouting? delays? conflicts?) |
| 5â€“15 | Architecture | Entities + status + events + strategies |
| 15â€“35 | Core Entities | Train, Platform, Assignment, enums |
| 35â€“55 | Logic | schedule, assign, arrive, depart, release, strategy switch |
| 55â€“70 | Integration | Singleton controller, observer, conflict handling, summary |
| 70â€“75 | Demo & Q&A | Run `INTERVIEW_COMPACT.py` scenarios |

---

## Demo Scenarios (5)
1. Setup: Platforms + trains + observer registration  
2. Initial Assignment & Arrival: Auto-assign + arrival transition  
3. Strategy Switch & Reassignment: Change algorithm mid-operation  
4. Departure & Release: Train departs, platform freed  
5. Conflict & Maintenance: All occupied + maintenance platform handling

Run all demos:
```bash
python3 INTERVIEW_COMPACT.py
```

---

## Interview Checklist
- [ ] Explain each pattern & justification
- [ ] Recite train lifecycle states & transitions
- [ ] Describe assignment strategy differences
- [ ] Handle conflict when no platform free (queue / wait)
- [ ] Emit events: assignment, arrival, departure, release, maintenance
- [ ] Discuss scaling (prediction, real-time telemetry, delay propagation)

---

## Key Concepts to Explain
**Assignment Strategy**: Swap heuristics (earliest free vs priority list) without changing core station logic.

**Observer Events**: Decouple notification & analytics from scheduling operations (`train_assigned`, `train_arrived`, `train_departed`, `platform_released`, `platform_maintenance`).

**Lifecycle State Management**: Prevent departure before arrival; enforce platform occupancy invariants.

**Conflict Resolution**: Queue trains awaiting free platform; simple demo uses waiting list.

---

## File Roles
| File | Purpose |
|------|---------|
| `README.md` | High-level overview & checklist |
| `START_HERE.md` | Fast timeline & talking points |
| `75_MINUTE_GUIDE.md` | Deep dive: UML, Q&A, edge cases |
| `INTERVIEW_COMPACT.py` | Working implementation & demos |

---

## Tips for Success
âœ… Keep assignment heuristic out of Train/Platform (Strategy)  
âœ… Emit events immediately after state changes  
âœ… Show clear, validated transitions  
âœ… Mention delay & prediction as future concerns  
âœ… Clarify exclusions (routing, signaling, passenger load modeling) early

---

See `75_MINUTE_GUIDE.md` for in-depth design. Use `START_HERE.md` for rapid recall. Run demos via `python3 INTERVIEW_COMPACT.py`.
